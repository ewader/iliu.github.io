<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>DNS设置 on 老刘博客</title>
    <link>https://iliu.org/tags/dns%E8%AE%BE%E7%BD%AE/</link>
    <description>Recent content in DNS设置 on 老刘博客</description>
    <image>
      <title>老刘博客</title>
      <url>https://iliu.org/img/liujinsuiyue.jpg</url>
      <link>https://iliu.org/img/liujinsuiyue.jpg</link>
    </image>
    <generator>Hugo -- 0.147.8</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 12 Jul 2019 09:29:00 +0000</lastBuildDate>
    <atom:link href="https://iliu.org/tags/dns%E8%AE%BE%E7%BD%AE/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>centos7.6更改dns的方法</title>
      <link>https://iliu.org/2260.html</link>
      <pubDate>Fri, 12 Jul 2019 09:29:00 +0000</pubDate>
      <guid>https://iliu.org/2260.html</guid>
      <description>&lt;p&gt;今天在重新安装服务器的生产环境的时候发现无法申请&lt;span style=&#34;background-color: rgb(255, 255, 255);&#34;&gt;Let’s Encrypt的证书，根据我的经验，一般把服务器上的dns设置成Google的8.8.8.8就可以顺利的进行申请，可能是国内的dns解析&lt;/span&gt;&lt;span style=&#34;background-color: rgb(255, 255, 255); color: rgb(51, 51, 51);&#34;&gt;Let’s Encrypt域名不通畅所导致。所以，第一时间，笔者就想到把服务器的dns设置成Google的。搜索引擎查了一下，很多都是千篇一律的。根据他们的经验，总结了一下，以备以后使用。&lt;/span&gt;&lt;figure class=&#34;content-img-box&#34; id=&#34;2259&#34;&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>今天在重新安装服务器的生产环境的时候发现无法申请<span style="background-color: rgb(255, 255, 255);">Let’s Encrypt的证书，根据我的经验，一般把服务器上的dns设置成Google的8.8.8.8就可以顺利的进行申请，可能是国内的dns解析</span><span style="background-color: rgb(255, 255, 255); color: rgb(51, 51, 51);">Let’s Encrypt域名不通畅所导致。所以，第一时间，笔者就想到把服务器的dns设置成Google的。搜索引擎查了一下，很多都是千篇一律的。根据他们的经验，总结了一下，以备以后使用。</span><figure class="content-img-box" id="2259"></p>
<p><img decoding="async" alt="centos7.6更改dns的方法" src="https://tunan.org/wp-content/uploads/2019/07/15cddce5c2528e.png" id="3D4EBBEF" class="po-img-big" /> <figcaption class="addDesn"></figcaption></figure></p>
<h2 id="首先重新启动一下networkmanager">首先，重新启动一下<span style="background-color: rgb(255, 255, 255); color: rgb(51, 51, 51);">NetworkManager</span></h2>
<p>有时候服务器的这个进程并没有启动，所以后面用的代码方法就不管用，输入代码后，显示Error: NetworkManager is not running.，笔者就是吃了这个的亏，搞了半天才稿定。</p>
<p>使用命令：</p>
<pre class="ql-syntax" spellcheck="false">systemctl restart NetworkManager.service
</pre>
<h2 id="第二使用命令行工具-nmcli-来设置">第二，使用命令行工具 nmcli 来设置</h2>
<pre class="ql-syntax" spellcheck="false"><span class="hljs-meta">#</span>显示当前网络连接
<span class="hljs-meta">#</span>nmcli connection show
NAME UUID                                 TYPE           DEVICE
System eth0  5fb0jd0-0bb0-7fd45f1-d6edd83e03  ethernet  eth0 
<span class="hljs-meta">
#</span>修改当前网络连接对应的DNS服务器，这里的网络连接可以用名称或者UUID来标识
<span class="hljs-meta">#</span>nmcli con mod eth0 ipv4.dns <span class="hljs-string">"8.8.8.8 223.5.5.5"</span>
<span class="hljs-meta">#</span>将dns配置生效
#nmcli con up eth0
</pre>
<p>注意：eth0可能这个参数每台机器都不同，所以，根据你自己的服务器的网关参数来进行修改。</p>
<h2 id="第三重复第一步">第三：重复第一步</h2>
<p>重新启动NetworkManager，使这个服务生效即可。</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
