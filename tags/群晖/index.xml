<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>群晖 on 老刘博客</title>
    <link>http://localhost:1313/tags/%E7%BE%A4%E6%99%96/</link>
    <description>Recent content in 群晖 on 老刘博客</description>
    <image>
      <title>老刘博客</title>
      <url>http://localhost:1313/img/liujinsuiyue.jpg</url>
      <link>http://localhost:1313/img/liujinsuiyue.jpg</link>
    </image>
    <generator>Hugo -- 0.151.1</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sat, 11 Oct 2025 08:12:42 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/%E7%BE%A4%E6%99%96/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>群晖NAS安装FRP客户端（frpc）</title>
      <link>http://localhost:1313/posts/install-frpc-on-synology-nas-without-docker/</link>
      <pubDate>Sat, 11 Oct 2025 08:12:42 +0800</pubDate>
      <guid>http://localhost:1313/posts/install-frpc-on-synology-nas-without-docker/</guid>
      <description>&lt;p&gt;今年5月份的时候，购买了一款搬瓦工的VPS，当时是想用来做博客的VPS，用的是美西的优化线路，速度非常的理想，前几天我又把博客系统转回到了&lt;code&gt;Hugo&lt;/code&gt;，这样这台VPS就空出来了，加上最近群晖的&lt;code&gt;QC&lt;/code&gt;以及&lt;code&gt;tailscale&lt;/code&gt;这些都不太理想，所以我决定使用FRP的方式来穿透群晖。搜了一下网上的教程都是采用的&lt;code&gt;docker&lt;/code&gt;，但是我安装后总是报错，所以研究了一下，采用直接安装的方式，省资源还不容易出错。本文详细介绍如何在用户目录下部署frpc，并实现开机自启。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>今年5月份的时候，购买了一款搬瓦工的VPS，当时是想用来做博客的VPS，用的是美西的优化线路，速度非常的理想，前几天我又把博客系统转回到了<code>Hugo</code>，这样这台VPS就空出来了，加上最近群晖的<code>QC</code>以及<code>tailscale</code>这些都不太理想，所以我决定使用FRP的方式来穿透群晖。搜了一下网上的教程都是采用的<code>docker</code>，但是我安装后总是报错，所以研究了一下，采用直接安装的方式，省资源还不容易出错。本文详细介绍如何在用户目录下部署frpc，并实现开机自启。</p>
<h3 id="一frp-简介">一、FRP 简介</h3>
<p><code>FRP（Fast Reverse Proxy）</code>是一款高性能反向代理应用，可实现 内网穿透。
通过在公网服务器上运行 <code>frps（服务端）</code>，在内网设备上运行 <code>frpc（客户端）</code>，你就可以从外网直接访问局域网中的群晖 DSM、SSH 等服务。</p>
<h3 id="二准备条件">二、准备条件</h3>
<p>一台有公网IP的服务器，这里老刘推荐<a href="https://bandwagonhost.com/aff.php?aff=78194"><code>搬瓦工</code></a>的美西优化线路，速度非常的理想。购买服务器后，安装1panel面板，然后在应用里搜索FRP，安装frps。到这里，你所需要的条件如下：</p>
<ul>
<li>公网服务器 IP（frps）：104.***&hellip;.</li>
<li>认证 token：xxxxx</li>
<li>群晖局域网 IP：192.168.3.19</li>
<li>群晖登录用户：xxxxx</li>
</ul>
<p>token、端口号这些可以在你安装的frps应用里查找。</p>
<h3 id="三在群晖上安装-frpc">三、在群晖上安装 frpc</h3>
<h4 id="1-进入用户目录">1. 进入用户目录</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /var/services/homes/xxxxx
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>放在用户目录无需 root 权限，最安全。</p>
</blockquote>
<h4 id="2-下载-frpc">2. 下载 frpc</h4>
<h4 id="x86_64-群晖intelamd-平台">x86_64 群晖（Intel/AMD 平台）</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ghproxy</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">fatedier</span><span class="o">/</span><span class="n">frp</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">v0</span><span class="o">.</span><span class="mf">61.1</span><span class="o">/</span><span class="n">frp_0</span><span class="o">.</span><span class="mf">61.1</span><span class="n">_linux_amd64</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="arm64-群晖j-系列或低功耗-nas">ARM64 群晖（J 系列或低功耗 NAS）</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ghproxy</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">fatedier</span><span class="o">/</span><span class="n">frp</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">v0</span><span class="o">.</span><span class="mf">61.1</span><span class="o">/</span><span class="n">frp_0</span><span class="o">.</span><span class="mf">61.1</span><span class="n">_linux_arm64</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>解压并重命名：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tar -zxvf frp_0.61.1_linux_amd64.tar.gz
</span></span><span class="line"><span class="cl">mv frp_0.61.1_linux_amd64 frp
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> frp
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="四创建配置文件">四、创建配置文件</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nano frpc.toml
</span></span></code></pre></td></tr></table>
</div>
</div><p>写入内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="nx">serverAddr</span> <span class="p">=</span> <span class="s2">&#34;104.***.***.***&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">serverPort</span> <span class="p">=</span> <span class="mi">7000</span>
</span></span><span class="line"><span class="cl"><span class="nx">auth</span><span class="p">.</span><span class="nx">token</span> <span class="p">=</span> <span class="s2">&#34;xxxxx&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">proxies</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;synology_web&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;tcp&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">localIP</span> <span class="p">=</span> <span class="s2">&#34;192.168.3.19&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">localPort</span> <span class="p">=</span> <span class="mi">5000</span>
</span></span><span class="line"><span class="cl"><span class="nx">remotePort</span> <span class="p">=</span> <span class="mi">5000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">proxies</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;synology_ssh&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;tcp&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">localIP</span> <span class="p">=</span> <span class="s2">&#34;192.168.3.19&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">localPort</span> <span class="p">=</span> <span class="mi">22</span>
</span></span><span class="line"><span class="cl"><span class="nx">remotePort</span> <span class="p">=</span> <span class="mi">6000</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>保存退出。</p>
<h3 id="五测试运行">五、测试运行</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./frpc -c ./frpc.toml
</span></span></code></pre></td></tr></table>
</div>
</div><p>若看到：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">start proxy success
</span></span></code></pre></td></tr></table>
</div>
</div><p>说明连接成功。</p>
<h3 id="六后台运行可选">六、后台运行（可选）</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nohup ./frpc -c ./frpc.toml &gt; frpc.log 2&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">&amp;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看日志：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">tail -f frpc.log
</span></span></code></pre></td></tr></table>
</div>
</div><p>停止运行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps aux <span class="p">|</span> grep frpc
</span></span><span class="line"><span class="cl"><span class="nb">kill</span> <span class="o">[</span>进程号<span class="o">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="七开机自启可选">七、开机自启（可选）</h3>
<ol>
<li>DSM → 控制面板 → 计划任务 → 创建 → “触发的任务” → “用户定义的脚本”</li>
<li>用户选择 xxxxx或者root</li>
<li>脚本内容：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">homes</span><span class="o">/</span><span class="n">xxxxx</span><span class="o">/</span><span class="n">frp</span><span class="o">/</span><span class="n">frpc</span> <span class="o">-</span><span class="n">c</span> <span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">homes</span><span class="o">/</span><span class="n">xxxxx</span><span class="o">/</span><span class="n">frp</span><span class="o">/</span><span class="n">frpc</span><span class="o">.</span><span class="n">toml</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>保存并勾选“启动时运行”</li>
</ol>
<h3 id="八验证连接">八、验证连接</h3>
<p>在外网访问：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">http://公网服务器IP:5000
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果配置了 SSH 通道：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ssh xxxxx@公网服务器IP -p 6000
</span></span></code></pre></td></tr></table>
</div>
</div><p>即可远程登录群晖。</p>
<h3 id="-总结">✅ 总结</h3>
<ul>
<li>所有文件都放在 用户目录下，无需 root 权限</li>
<li>支持 DSM 重启后自动运行</li>
<li>安装简单、权限安全、长期稳定</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>在群晖里安装简单的笔记软件flatnotes</title>
      <link>http://localhost:1313/posts/install-the-simple-note-taking-software-flatnotes-on-synology/</link>
      <pubDate>Wed, 30 Oct 2024 03:48:47 -0400</pubDate>
      <guid>http://localhost:1313/posts/install-the-simple-note-taking-software-flatnotes-on-synology/</guid>
      <description>&lt;p&gt;老刘这一段时间以来都是使用&lt;code&gt;VSCode&lt;/code&gt;来写博客，主要是因为&lt;code&gt;anytype&lt;/code&gt;对长文的支持一般，另外对&lt;code&gt;markdown&lt;/code&gt;语法支持的也不够，比如表格功能就没法用&lt;code&gt;markdown&lt;/code&gt;语法。但是&lt;code&gt;VSCode&lt;/code&gt;有一个缺点是同步不方便，而我也想要能随时随地的写博客，直到看到&lt;code&gt;flatnotes&lt;/code&gt;这个笔记软件，说它是笔记软件有点抬举它了，因为它太简洁，不过用来写博客文章是刚刚好，并且支持docker部署使用，这样只要有网络，有浏览器，就可以随时随地的写博客了。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>老刘这一段时间以来都是使用<code>VSCode</code>来写博客，主要是因为<code>anytype</code>对长文的支持一般，另外对<code>markdown</code>语法支持的也不够，比如表格功能就没法用<code>markdown</code>语法。但是<code>VSCode</code>有一个缺点是同步不方便，而我也想要能随时随地的写博客，直到看到<code>flatnotes</code>这个笔记软件，说它是笔记软件有点抬举它了，因为它太简洁，不过用来写博客文章是刚刚好，并且支持docker部署使用，这样只要有网络，有浏览器，就可以随时随地的写博客了。</p>
<p>既然合适使用，当然就要把他部署在<code>NAS</code>里，网上群晖部署的教程比较麻烦，还需要进命令行操作，其实根本不用那么麻烦，直接使用群晖默认的<code>docker</code>管理套件<code>container manager</code>来部署就行了。步骤如下：</p>
<h2 id="首先找到flatnotes">首先找到flatnotes</h2>
<p>在注册表里搜索flatnotes，选择第一个，下载
<img alt="image" loading="lazy" src="https://s2.l22.org/flatnotes/flatnote1.png"></p>
<h2 id="安装过程">安装过程</h2>
<p>下载完成后，点击安装，在端口设置，环境，存储空间设置，根据实际情况设置一下就行，其他一路下一步。
<img alt="image" loading="lazy" src="https://s2.l22.org/flatnotes/flatenote2.png">
<img alt="image" loading="lazy" src="https://s2.l22.org/flatnotes/flatenote3.png"></p>
<p>重点说一下环境变量设置，
增加如下几个字段：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">FLATNOTES_AUTH_TYPE: password
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLATNOTES_USERNAME: user
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLATNOTES_PASSWORD: panda # 密码可自行修改
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLATNOTES_SECRET_KEY: aLongRandomSeriesOfCharacters
</span></span></code></pre></td></tr></table>
</div>
</div><p>另外一个需要说明的地方是8080端口不要改成其他的，改了虽然docker不会报错，但是网页是打不开的。</p>
<h2 id="代理设置">代理设置</h2>
<p>如果不出意外的，在浏览器里输入你NAS的ip加上你设置的端口号就应该可以打开应用了，但是我们需要的是随时随地的使用，所以还需要在NAS里设置一下代理。</p>
<h3 id="反向代理设置方法">反向代理设置方法</h3>
<p>点击控制面板，点击登录门户，点击高级，点击反向代理服务器。
<img alt="image" loading="lazy" src="https://s2.l22.org/flatnotes/flatnotes4.png">
点击新增，如下：
<img alt="image" loading="lazy" src="https://s2.l22.org/flatnotes/flatnotes5.png">
至此 ，就可以愉快的使用flatnotes来写文章了，本文就是使用这个软件写的，体验非常的不错！~
<img alt="image" loading="lazy" src="https://s2.l22.org/flatnotes/flatnotes6.png">
唯一的一点，这个软件好像不是实时保存，写完文章后记得保存一下</p>
]]></content:encoded>
    </item>
    <item>
      <title>思源笔记群晖正确的部署方法</title>
      <link>http://localhost:1313/posts/4418/</link>
      <pubDate>Sat, 01 Jul 2023 03:10:30 -0400</pubDate>
      <guid>http://localhost:1313/posts/4418/</guid>
      <description>&lt;p&gt;最近一直在选择一款适合自己的笔记软件，最后确定在思源笔记和 Joplin 这两个上面，打算都长期试用一下，比较一下哪个更适合自己。&lt;/p&gt;
&lt;h2 id=&#34;事情的起因&#34;&gt;事情的起因&lt;a href=&#34;#%E4%BA%8B%E6%83%85%E7%9A%84%E8%B5%B7%E5%9B%A0&#34;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;思源笔记的升级是相当频繁，可是我却发现，每次 docker 升级后，数据都没有保存下来，只能从备份的数据里重新导入，找了一下原因，发现是映射的文件夹里面没有数据，于是就重新安装，发现按照网上的教程，安装后 跑不起来。经过一番摸索，总算是搞定了！&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>最近一直在选择一款适合自己的笔记软件，最后确定在思源笔记和 Joplin 这两个上面，打算都长期试用一下，比较一下哪个更适合自己。</p>
<h2 id="事情的起因">事情的起因<a href="#%E4%BA%8B%E6%83%85%E7%9A%84%E8%B5%B7%E5%9B%A0">#</a></h2>
<p>思源笔记的升级是相当频繁，可是我却发现，每次 docker 升级后，数据都没有保存下来，只能从备份的数据里重新导入，找了一下原因，发现是映射的文件夹里面没有数据，于是就重新安装，发现按照网上的教程，安装后 跑不起来。经过一番摸索，总算是搞定了！</p>
<h2 id="成功部署的方法">成功部署的方法<a href="#%E6%88%90%E5%8A%9F%E9%83%A8%E7%BD%B2%E7%9A%84%E6%96%B9%E6%B3%95">#</a></h2>
<p>关于如何在群晖上设置Docker等基础的教程，老刘就不再重复制造数据垃圾了，既然你能找到我这里，说明你也已经查了很多的资料了，部署的方法都大同小异，只需要注意以下两点就可以了。</p>
<p>经过博友@<a href="https://laomai.org">老麦</a>的反馈，直接在Container Manager上操作的话，第一步可以不做，直接用第二步即可。详细看下面老麦的评论。</p>
<h3 id="第一在运行命令那处填写">第一，在运行命令那处填写：<a href="#%E7%AC%AC%E4%B8%80-%E5%9C%A8%E8%BF%90%E8%A1%8C%E5%91%BD%E4%BB%A4%E9%82%A3%E5%A4%84%E5%A1%AB%E5%86%99--">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> &lt;s&gt;-workspace /siyuan/workspace/&lt;/s&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>经过老刘的测试，最新版的思源，只能用上面的这句命令，用别的任何命令，群晖的Docker都会重复重启。</p>
<h3 id="第二储存空间设置">第二，储存空间设置</h3>
<p><a href="#%E7%AC%AC%E4%BA%8C%E5%82%A8%E5%AD%98%E7%A9%BA%E9%97%B4%E8%AE%BE%E7%BD%AE-%E7%AC%AC%E4%BA%8C%E5%82%A8%E5%AD%98%E7%A9%BA%E9%97%B4%E8%AE%BE%E7%BD%AEfigure-classwp-block-image">#</a></p>
<p><img loading="lazy" src="https://cdn.staticaly.com/gh/ewader/img@master/20230701/xxx.6lnukqsan6c0.webp"></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;span class=&#34;hljs-regexp&#34;&gt;/Home/&lt;/span&gt;siyuan
</span></span></code></pre></td></tr></table>
</div>
</div><p>以前的教程都是把群晖本地的文件夹映射到Docker的siyuan目录，现在看了是不正确的，这个目录如果填写不正确，思源的Docker可以正常启动，但是升级后，数据都会全部删除，因为没有正确的映射到本地文件夹。<br />这样就可以运行起来了。</p>
]]></content:encoded>
    </item>
    <item>
      <title>浅谈群晖安全性方面的设置</title>
      <link>http://localhost:1313/4375.html</link>
      <pubDate>Mon, 15 May 2023 07:11:31 +0000</pubDate>
      <guid>http://localhost:1313/4375.html</guid>
      <description>&lt;p&gt;我们在玩群晖的时候，往往不会满足于群晖只作为局域网里的一个服务器的存在，还想让它发挥更大的作用，让我们无论身在何地，都可以自由的访问我们群晖里的东西，这就需要我们把群晖暴露在公网之中。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>我们在玩群晖的时候，往往不会满足于群晖只作为局域网里的一个服务器的存在，还想让它发挥更大的作用，让我们无论身在何地，都可以自由的访问我们群晖里的东西，这就需要我们把群晖暴露在公网之中。</p>
<p>无论你是使用<a href="https://tunan.org/3997.html">ddns</a>，或者<a href="https://tunan.org/2918.html">frp</a>、<a href="https://tunan.org/3356.html">zerotier</a>内网穿透技术，只要是你把群晖暴露在公网上，那就要做好承担被网络上成千上万个扫描器扫描到的风险。扫描到不可怕，重要的扫描到也让它没有办法才行。这样，设置群晖的安全性设置就很必要了。</p>
<h2 class="wp-block-heading" id="安全性设置">安全性设置</h2>
<p>如下图，该选择打勾的都给他打上。<figure class="wp-block-image"></p>
<p><img decoding="async" src="https://cdn.staticaly.com/gh/ewader/img@master/20230515/xxx.280z3g2nkeas.webp" alt="xxx" /> </figure></p>
<h2 class="wp-block-heading" id="账户的安全性设置">账户的安全性设置</h2>
<p>建议对管理员账户强制开启双重验证，并下载synology secure signin这个app，选择code验证，这个无论手机是否在线，输入synology secure signin生成的code都是可以验证的。登录的时候在经常使用的电脑上点击记住设备，下次登录就不用再输入code了。为了安全，这一点点的不方便还是值得的。<figure class="wp-block-image"></p>
<p><img decoding="async" src="https://cdn.staticaly.com/gh/ewader/img@master/20230515/xxx.6gfe0eb5w8g0.webp" alt="xxx" /> </figure></p>
<h2 class="wp-block-heading" id="群晖防火墙的设置">群晖防火墙的设置</h2>
<p>开启群晖的防火墙还是很有必要的，开启并编辑规则后，可以把屏蔽国外ip的访问，这样安全性就提高了一大块，毕竟扫描器绝大部分都是国外的ip。<figure class="wp-block-image"></p>
<p><img decoding="async" src="https://cdn.staticaly.com/gh/ewader/img@master/20230515/xxx.13k03whzr0u8.webp" alt="xxx" /> </figure></p>
<p>开启防火墙，并启用防火墙通知，这样，有ip被封锁后，群晖会发邮件来提醒你。</p>
<p>具体的规则如下：<figure class="wp-block-image"></p>
<p><img decoding="async" src="https://cdn.staticaly.com/gh/ewader/img@master/20230515/xxx.3s3vpjpjnc40.webp" alt="xxx" /> </figure></p>
<p>上述规则的解读，第一条规则是允许你局域网所在的ip段的访问，包括所有的协议和端口，如果用的有docker的话就加上第二条规则，让docker的ip也能自由的和主机进行通信。第三条是允许国内的ip访问，毕竟你需要在不同的地方来访问你的群晖，这个就不要限制了，第四条是我自己的一台境外的服务器，我用来做frp穿透用，也设置允许了。最后一条是拒绝除了上面的ip之外所有ip的访问。</p>
]]></content:encoded>
    </item>
    <item>
      <title>群晖安装trilium笔记web端不刷新的处理方法</title>
      <link>http://localhost:1313/4154.html</link>
      <pubDate>Sun, 26 Jun 2022 03:50:24 +0000</pubDate>
      <guid>http://localhost:1313/4154.html</guid>
      <description>&lt;p&gt;最初装上trilium上之后，发现web端新建笔记或者删除笔记等都不会刷新。也和中文博客群里的少君等人讨论过，也没有得出过什么结论，毕竟环境不同嘛，当时貌似也就我一个人遇到了这种情况。后来发现是网络有错误，是websocket链接错误。但是作为小白，也没有解决的办法。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>最初装上trilium上之后，发现web端新建笔记或者删除笔记等都不会刷新。也和中文博客群里的少君等人讨论过，也没有得出过什么结论，毕竟环境不同嘛，当时貌似也就我一个人遇到了这种情况。后来发现是网络有错误，是websocket链接错误。但是作为小白，也没有解决的办法。</p>
<p>后来张波老师也遇到了，原来用域名反代访问就会出现这个问题。群里的大神给出了NGINX下的解决方案，可是我用的群晖啊，没有nginx肿么办？</p>
<h3 class="wp-block-heading" id="其实用群晖的反代更简单">其实，用群晖的反代更简单</h3>
<p>打开群晖反代的设置界面，点击自定义标题，点新增，点websocket。保存，即可。<figure class="wp-block-image size-full"></p>
<p><img loading="lazy" decoding="async" width="732" height="677" src="https://tunan.org/wp-content/uploads/2022/06/a29f701cb0ead1b.png" alt="" class="wp-image-4155" /> </figure></p>
]]></content:encoded>
    </item>
    <item>
      <title>使用群晖自动备份网站</title>
      <link>http://localhost:1313/4131.html</link>
      <pubDate>Sat, 28 May 2022 08:23:06 +0000</pubDate>
      <guid>http://localhost:1313/4131.html</guid>
      <description>&lt;p&gt;不管是做网站也好，写独立博客也好，最重要的事情之一就是备份。几乎每一个站长都经历过一不小心，多年的心血付之东流的经历。不过好在现在备份的方法很多，可以备份到本地，可以备份的腾讯cos，阿里云等等。云储存也不贵，几十块钱甚至十几块可以用一年，唯一的缺点是这些云储存都收取上行流量费。也就是说，一旦你用到你的数据，想把数据下载到本地，是还要付出一些费用的。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>不管是做网站也好，写独立博客也好，最重要的事情之一就是备份。几乎每一个站长都经历过一不小心，多年的心血付之东流的经历。不过好在现在备份的方法很多，可以备份到本地，可以备份的腾讯cos，阿里云等等。云储存也不贵，几十块钱甚至十几块可以用一年，唯一的缺点是这些云储存都收取上行流量费。也就是说，一旦你用到你的数据，想把数据下载到本地，是还要付出一些费用的。</p>
<p>折腾群晖的时候，发现群晖的Active Back for Business这个套件可以自动的同步服务器上的文件，非常的方便，于是拿来备份网站，还是非常的方便的。</p>
<h2 class="wp-block-heading" id="安装active-back-for-business">安装Active Back for Business</h2>
<p>群晖套件中心里，找到Active Back for Business，并安装。不多说。</p>
<h2 class="wp-block-heading" id="使用active-back-for-business备份网站">使用Active Back for Business备份网站</h2>
<p>一、打开Active Back for Business套件，点击文件服务器。<figure class="wp-block-image size-full"></p>
<p><img loading="lazy" decoding="async" width="1490" height="718" src="https://tunan.org/wp-content/uploads/2022/05/2022-05-28-160751.png" alt="" class="wp-image-4132" /> </figure></p>
<p>二、点击添加服务器。这里我们选择rsync服务器。然后下一步。<figure class="wp-block-image size-full"></p>
<p><img loading="lazy" decoding="async" width="893" height="682" src="https://tunan.org/wp-content/uploads/2022/05/2022-05-28-161140.png" alt="" class="wp-image-4133" /> </figure></p>
<p>三、填写服务器信息，并点击完成。<figure class="wp-block-image size-full"></p>
<p><img loading="lazy" decoding="async" width="891" height="686" src="https://tunan.org/wp-content/uploads/2022/05/2022-05-28-161239.png" alt="" class="wp-image-4134" /> </figure></p>
<p>四、选择备份模式，这里老刘选择的是增量备份，也可以选择多版本备份，这样就可以自动备份你设定的几个版本。<figure class="wp-block-image size-full"></p>
<p><img loading="lazy" decoding="async" width="920" height="715" src="https://tunan.org/wp-content/uploads/2022/05/2022-05-28-161650.png" alt="" class="wp-image-4135" /> </figure></p>
<p>五、选择你网站文件所在的文件夹，选择备份时间，即可。</p>
<h2 class="wp-block-heading" id="可能会遇到的问题">可能会遇到的问题</h2>
<p>在填写服务器的时候，可能会提示服务器没有安装rsync，只需在服务器中安装这个服务即可。</p>
<pre class="wp-block-code"><code>#Debian或者Ubuntu
apt install rsync
CentOs
yum install rsync</code></pre>]]></content:encoded>
    </item>
    <item>
      <title>没有公网IP也能玩转群晖DDNS</title>
      <link>http://localhost:1313/3997.html</link>
      <pubDate>Thu, 30 Dec 2021 02:47:58 +0000</pubDate>
      <guid>http://localhost:1313/3997.html</guid>
      <description>&lt;p&gt;我们知道，玩群晖，没有公网IP，可玩性就下降很多，虽然可以用QuickConnect，但是速度还是不太理想。其他的&lt;a href=&#34;https://tunan.org/?s=%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F&#34;&gt;内网穿透&lt;/a&gt;啊，&lt;a href=&#34;https://tunan.org/?s=zero&#34;&gt;zerotier&lt;/a&gt;等等都有不方便之处。老刘也曾记下折腾这些东西的过程。有兴趣的可以参考。&lt;/p&gt;
&lt;p&gt;今天老刘说的是DDNS，这个是需要公网IP的，而我们一说公网IP，其实都是说的IPV4的ip地址，这个目前全球都稀缺，移动是不用想了，联通和电信个别地方还能申请到。老刘一直用的是移动的宽带，以前用zerotier，后来就用qc来凑合着用。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>我们知道，玩群晖，没有公网IP，可玩性就下降很多，虽然可以用QuickConnect，但是速度还是不太理想。其他的<a href="https://tunan.org/?s=%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F">内网穿透</a>啊，<a href="https://tunan.org/?s=zero">zerotier</a>等等都有不方便之处。老刘也曾记下折腾这些东西的过程。有兴趣的可以参考。</p>
<p>今天老刘说的是DDNS，这个是需要公网IP的，而我们一说公网IP，其实都是说的IPV4的ip地址，这个目前全球都稀缺，移动是不用想了，联通和电信个别地方还能申请到。老刘一直用的是移动的宽带，以前用zerotier，后来就用qc来凑合着用。</p>
<p>这两天由于keepassxc的版本在uos非常的低，由于环境的原因也更新不到最新的版本，想在群晖上部署<strong>Bitwarden</strong>。所以，又动了ddns的心思，想到目前各大运营商IPV6已经普及了，而这个都是公网的IP，所以，理论上用ddns加IPV6是完全没有问题的。网上查了一下，也有很多的教程。正准备按教程操作的时候，发现根本就不必那么麻烦。</p>
<h2 class="wp-block-heading" id="下面正文">下面正文</h2>
<p>进入群晖，打开控制面板，点击外部访问，点击DDNS。<figure class="wp-block-image size-full"></p>
<p><img loading="lazy" decoding="async" width="952" height="651" src="https://tunan.org/wp-content/uploads/2021/12/2fc7d51b1d6ffe9.png" alt="" class="wp-image-3998" srcset="https://tunan.org/wp-content/uploads/2021/12/2fc7d51b1d6ffe9.png 952w, https://tunan.org/wp-content/uploads/2021/12/2fc7d51b1d6ffe9-768x525.png 768w, https://tunan.org/wp-content/uploads/2021/12/2fc7d51b1d6ffe9-220x150.png 220w" sizes="(max-width: 952px) 100vw, 952px" /> </figure></p>
<p>选择使用SYNOLOGY的服务，主机名称填写一个你心意的名称，IPV4选择手动，如果你有公网的ip也可以选择自动。IPV6点击自动设置，最后点击确定。</p>
<p>用你申请的这个域名，浏览器打开试试吧。进入到熟悉的页面了吧！</p>
<h2 class="wp-block-heading" id="一个坑">一个坑</h2>
<p>老刘由于一直没有找的心仪的路有，店里一直用一个廉价的小米4a千兆版的路由。设置完上面的一切后，本地打开域名是能正常访问的，但是用手机使用流量却访问不了这个域名，显示连接被拒绝。感觉应该是路由器的防火墙的问题。可是在小米路由器里找不到设置防火墙的地方。可能这个防火墙默认的是拒绝入站的访问吧</p>
<p>从家里拿来竞斗云的那个路由器，设置的一下防火墙，顺利搞定。<figure class="wp-block-image"></p>
<p><img decoding="async" src="https://cdn.staticaly.com/gh/ewader/img@master/20230414/屏幕截图-2023-04-14-082731.57l64orz0940.webp" alt="屏幕截图-2023-04-14-082731" /> </figure></p>
]]></content:encoded>
    </item>
    <item>
      <title>更新群晖至DSM7.0</title>
      <link>http://localhost:1313/3887.html</link>
      <pubDate>Mon, 06 Sep 2021 10:25:46 +0000</pubDate>
      <guid>http://localhost:1313/3887.html</guid>
      <description>&lt;p&gt;今天上午来到店内，不知道是怎么回事，产生了一些惰性，看到群里小胡同学发的白嫖亚马逊12本的电子书，就去搞了一下，看了会书，也不想更新商城的产品了，后来就想不行把群晖的系统升级一下吧。&lt;br&gt;
&lt;img loading=&#34;lazy&#34; decoding=&#34;async&#34; src=&#34;https://tunan.org/wp-content/uploads/2021/09/jooj_vip_20210906182618316202.png&#34; alt=&#34;&#34; width=&#34;1377&#34; height=&#34;805&#34; class=&#34;alignnone size-full wp-image-3889&#34; srcset=&#34;https://tunan.org/wp-content/uploads/2021/09/jooj_vip_20210906182618316202.png 1377w, https://tunan.org/wp-content/uploads/2021/09/jooj_vip_20210906182618316202-768x449.png 768w&#34; sizes=&#34;(max-width: 1377px) 100vw, 1377px&#34; /&gt;&lt;br&gt;
群晖6.0的的系统不能自动升级到7.0，需要进行手动升级。于是到群晖官网下载相应型号的固件，在群晖的管理面板里手动升级即可。升级也很顺利。升级后有点小坑。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>今天上午来到店内，不知道是怎么回事，产生了一些惰性，看到群里小胡同学发的白嫖亚马逊12本的电子书，就去搞了一下，看了会书，也不想更新商城的产品了，后来就想不行把群晖的系统升级一下吧。<br>
<img loading="lazy" decoding="async" src="https://tunan.org/wp-content/uploads/2021/09/jooj_vip_20210906182618316202.png" alt="" width="1377" height="805" class="alignnone size-full wp-image-3889" srcset="https://tunan.org/wp-content/uploads/2021/09/jooj_vip_20210906182618316202.png 1377w, https://tunan.org/wp-content/uploads/2021/09/jooj_vip_20210906182618316202-768x449.png 768w" sizes="(max-width: 1377px) 100vw, 1377px" /><br>
群晖6.0的的系统不能自动升级到7.0，需要进行手动升级。于是到群晖官网下载相应型号的固件，在群晖的管理面板里手动升级即可。升级也很顺利。升级后有点小坑。</p>
<h2 id="dsm60系统里的很多套件不能用了">Dsm6.0系统里的很多套件不能用了</h2>
<p>具体有哪些不是很清楚，我原来主要用的是moment这个相册的套件，还有synology drive,已经note station这三个套件。至于下载之类的，老刘也没有什么需要一天到晚下载的数据。升级完之后发现moment这个套件不能用了。<br>
查找了一下发现，群晖dsm7.0的相册套件是synology photos。老刘手机上把Google市场卸载了，安装不上，后来找了一个可以下载Google市场APP的网站，下载了synology photos之后，传到手机上，算是顺利的解决了这一个问题。</p>
<h2 id="升级后的感觉">升级后的感觉</h2>
<p>感觉和以前的6.0相差不大，节目好看了那么一丢丢。如果非要比喻的话是xp到win7的感觉吧。更精致了一些。<br>
不过升级后有些套件不支持了，看你的需求了。</p>
]]></content:encoded>
    </item>
    <item>
      <title>keepass配合群晖及keepasshttp实现密码快速登陆</title>
      <link>http://localhost:1313/3413.html</link>
      <pubDate>Thu, 26 Nov 2020 09:10:34 +0000</pubDate>
      <guid>http://localhost:1313/3413.html</guid>
      <description>&lt;p&gt;前两天看老张老师到处寻找管理密码的软件，老刘由于一直在使用Norton的密码管理，所以没有在意，后来发现Norton的服务器链接较慢，使用起来还是有点不方便，恰好又看到老张在吐槽 某个软件（主要是老刘忘记名字了）使用的问题，于是老刘就想群晖上有没有一款密码管理的软件或者套件（自从老刘入白群晖后，找软件都先考虑这个），你还别说，真的搜出来了这样一个软件，不过不是安装在群晖上，而是把数据放在群晖上，其他的客户端都从群晖来读取数据，这个软件叫Keepass。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>前两天看老张老师到处寻找管理密码的软件，老刘由于一直在使用Norton的密码管理，所以没有在意，后来发现Norton的服务器链接较慢，使用起来还是有点不方便，恰好又看到老张在吐槽 某个软件（主要是老刘忘记名字了）使用的问题，于是老刘就想群晖上有没有一款密码管理的软件或者套件（自从老刘入白群晖后，找软件都先考虑这个），你还别说，真的搜出来了这样一个软件，不过不是安装在群晖上，而是把数据放在群晖上，其他的客户端都从群晖来读取数据，这个软件叫Keepass。</p>
<h2 id="为什么选择keepass">为什么选择Keepass？</h2>
<p>因为这是一款开源软件，任何人都能读它的源代码，支持所有的端，插件非常的丰富，只要你想到的功能，都有插件来实现。最重要的是免费，所以老刘毫不犹豫的上手了这个软件。</p>
<h2 id="keepass如何把数据存储在群晖上">Keepass如何把数据存储在群晖上</h2>
<p>其实这是利用了keepass的WebDav的功能，而这个功能恰好群晖又支持。</p>
<p>首先，下载安装keepass.官网的地址是：<a href="https://keepass.info/">KeePass Password Safe</a>；可以到官网下载最新的版本，如果喜欢绿色版的，这个软件也又提供。</p>
<p>第二，群晖里的一些设置</p>
<p>首先登陆群晖，在套件里安装webdav。</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/11/c4ca4238a0b9238.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3414" src="https://tunan.org/wp-content/uploads/2020/11/c4ca4238a0b9238.png" alt="" width="633" height="381" srcset="https://tunan.org/wp-content/uploads/2020/11/c4ca4238a0b9238.png 633w, https://tunan.org/wp-content/uploads/2020/11/c4ca4238a0b9238-300x181.png 300w" sizes="(max-width: 633px) 100vw, 633px" /></a></p>
<p>webdav的设置很简单，如下图，因为老刘没有公网IP，所以只能用http端口了，如果你可以用https，也可以开启5006端口</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/11/c81e728d9d4c2f6.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3415" src="https://tunan.org/wp-content/uploads/2020/11/c81e728d9d4c2f6.png" alt="" width="739" height="507" srcset="https://tunan.org/wp-content/uploads/2020/11/c81e728d9d4c2f6.png 739w, https://tunan.org/wp-content/uploads/2020/11/c81e728d9d4c2f6-300x206.png 300w, https://tunan.org/wp-content/uploads/2020/11/c81e728d9d4c2f6-220x150.png 220w" sizes="(max-width: 739px) 100vw, 739px" /></a></p>
<p>新建一个共享文件夹，专门放密码的，所以老刘就直接命名为mima了。</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/11/eccbc87e4b5ce2f.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3416" src="https://tunan.org/wp-content/uploads/2020/11/eccbc87e4b5ce2f.png" alt="" width="580" height="342" srcset="https://tunan.org/wp-content/uploads/2020/11/eccbc87e4b5ce2f.png 580w, https://tunan.org/wp-content/uploads/2020/11/eccbc87e4b5ce2f-300x177.png 300w" sizes="(max-width: 580px) 100vw, 580px" /></a></p>
<p>为了安全，再给这个文件夹专门建一个新用户，这个用户只能读写mima这个文件夹，用户组就是普通的USR</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/11/a87ff679a2f3e71.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3417" src="https://tunan.org/wp-content/uploads/2020/11/a87ff679a2f3e71.png" alt="" width="613" height="397" srcset="https://tunan.org/wp-content/uploads/2020/11/a87ff679a2f3e71.png 613w, https://tunan.org/wp-content/uploads/2020/11/a87ff679a2f3e71-300x194.png 300w" sizes="(max-width: 613px) 100vw, 613px" /></a></p>
<p>除了mima这个文件，其他的都设置成禁止访问</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/11/e4da3b7fbbce234.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3418" src="https://tunan.org/wp-content/uploads/2020/11/e4da3b7fbbce234.png" alt="" width="759" height="256" srcset="https://tunan.org/wp-content/uploads/2020/11/e4da3b7fbbce234.png 759w, https://tunan.org/wp-content/uploads/2020/11/e4da3b7fbbce234-300x101.png 300w" sizes="(max-width: 759px) 100vw, 759px" /></a></p>
<p>应用程序里。</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/11/1679091c5a880fa.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3419" src="https://tunan.org/wp-content/uploads/2020/11/1679091c5a880fa.png" alt="" width="834" height="140" srcset="https://tunan.org/wp-content/uploads/2020/11/1679091c5a880fa.png 834w, https://tunan.org/wp-content/uploads/2020/11/1679091c5a880fa-300x50.png 300w, https://tunan.org/wp-content/uploads/2020/11/1679091c5a880fa-768x129.png 768w" sizes="(max-width: 834px) 100vw, 834px" /></a></p>
<p>至此，群晖里设置完毕</p>
<h2 id="keepass设置">keepass设置</h2>
<p>打开软件，点击新建数据库</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/11/8f14e45fceea167.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3421" src="https://tunan.org/wp-content/uploads/2020/11/8f14e45fceea167.png" alt="" width="925" height="573" srcset="https://tunan.org/wp-content/uploads/2020/11/8f14e45fceea167.png 925w, https://tunan.org/wp-content/uploads/2020/11/8f14e45fceea167-300x186.png 300w, https://tunan.org/wp-content/uploads/2020/11/8f14e45fceea167-768x476.png 768w" sizes="(max-width: 925px) 100vw, 925px" /></a></p>
<p>如上图的位置，填入你的webdav的网址，这里有个小坑，如果保存不了，提示程序无法打开这个位置的话，需要到注册表里</p>
<p>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WebClient\Parameters<br>
把BasicAuthLevel 值改成2，即同时支持http和https，默认只支持https，然后重启服务</p>
<p>至于PC上如何操作，很多教程，而且是中文，不多说了。说说密码自动填写</p>
<h2 id="下载插件keepasshttp">下载插件keepasshttp，</h2>
<p>很老的插件了，直接点击下面的链接下吧，官网很慢,解压缩后，把KeePassHttp.plgx文件放到keepass的插件目录里。设置一下，端口不用改，前三项打勾，高级设置中，前两项打勾。</p>
<p><a href="http://gofile.me/5x2t4/39jIZSgbC">http://gofile.me/5x2t4/39jIZSgbC</a></p>
<p>chrome浏览器进入商店搜索KeePassHttp-Connector 安装。点击连接，然后弹出的对话框里随便输几个数字。确定即可。</p>
<p> </p>
<p> </p>
<p> </p>
]]></content:encoded>
    </item>
    <item>
      <title>纯代码设置frp服务器</title>
      <link>http://localhost:1313/3340.html</link>
      <pubDate>Sun, 18 Oct 2020 07:27:04 +0000</pubDate>
      <guid>http://localhost:1313/3340.html</guid>
      <description>&lt;p&gt;以前老刘写过《&lt;a href=&#34;https://tunan.org/2918.html&#34;&gt;宝塔面板安装FRP内网穿透控制群晖&lt;/a&gt;》的文章，最近发现不知道是这个插件的作者不再开发了还是其他的原因，xeath开发的这个frp服务器插件已经在商店里找不到了。其实，这也没什么，直接用代码的方式部署也是可以的。&lt;/p&gt;
&lt;p&gt;SSH连接到VPS之后运行如下命令查看处理器架构，根据架构下载不同版本的frp&lt;/p&gt;
&lt;pre class=&#34;wp-block-preformatted&#34;&gt;arch&lt;/pre&gt;
&lt;p&gt;查看结果，如果是“X86_64“即可选择”amd64”，&lt;br&gt;
运行如下命令，根据架构不同，选择相应版本并进行下载，然后登陆frp的官网地址，现在最新的应该是0.34.1，所以，运行如下的命令：&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>以前老刘写过《<a href="https://tunan.org/2918.html">宝塔面板安装FRP内网穿透控制群晖</a>》的文章，最近发现不知道是这个插件的作者不再开发了还是其他的原因，xeath开发的这个frp服务器插件已经在商店里找不到了。其实，这也没什么，直接用代码的方式部署也是可以的。</p>
<p>SSH连接到VPS之后运行如下命令查看处理器架构，根据架构下载不同版本的frp</p>
<pre class="wp-block-preformatted">arch</pre>
<p>查看结果，如果是“X86_64“即可选择”amd64”，<br>
运行如下命令，根据架构不同，选择相应版本并进行下载，然后登陆frp的官网地址，现在最新的应该是0.34.1，所以，运行如下的命令：</p>
<pre class="wp-block-preformatted">wget https://github.com/fatedier/frp/releases/download/v0.34.1/frp_0.34.1_linux_amd64.tar.gz</pre>
<p>然后解压，给文件换一个名字，进入frp目录</p>
<pre class="wp-block-preformatted">tar -zxvf frp_0.34.1_linux_amd64.tar.gz
cp -r frp_0.34.1_linux_amd64 frp
cd frp</pre>
<p>修改frps.ini文件</p>
<pre class="wp-block-preformatted">vim frps.ini</pre>
<p>格式如下：</p>
<pre class="wp-block-preformatted">[common]
bind_port = 7000
dashboard_port = 7500
token = *******（根据情况自己设置）
dashboard_user = 自己设置
dashboard_pwd = 自己设置
vhost_http_port = 10080
vhost_https_port = 10443</pre>
<p>编辑完成后保存（vim保存如果不会请自行搜索）。<br>
之后我们就可以运行frps的服务端了。</p>
<p>使用命令：</p>
<pre class="wp-block-preformatted">./frps -c frps.ini</pre>
<p>如果输出如下文字，说明服务器配置成功</p>
<pre class="wp-block-preformatted">2019/01/12 15:22:39 [I] [service.go:130] frps tcp listen on 0.0.0.0:7000 

2019/01/12 15:22:39 [I] [service.go:172] http service listen on 0.0.0.0:10080 

2019/01/12 15:22:39 [I] [service.go:193] https service listen on 0.0.0.0:10443

2019/01/12 15:22:39 [I] [service.go:216] Dashboard listen on 0.0.0.0:7500

2019/01/12 15:22:39 [I] [root.go:210] Start frps success</pre>
<p>通过你的服务器IP：7500,然后输入刚才你设置的用户名密码，应该可以看到如下的画面：<figure class="wp-block-image aligncenter"></p>
<p><a href="https://tunan.org/wp-content/uploads/2020/10/574e8aabbd9f2ca.png"><img loading="lazy" decoding="async" width="1024" height="598" src="https://tunan.org/wp-content/uploads/2020/10/574e8aabbd9f2ca-1024x598.png" alt="" class="wp-image-3341" srcset="https://tunan.org/wp-content/uploads/2020/10/574e8aabbd9f2ca-1024x598.png 1024w, https://tunan.org/wp-content/uploads/2020/10/574e8aabbd9f2ca-300x175.png 300w, https://tunan.org/wp-content/uploads/2020/10/574e8aabbd9f2ca-768x449.png 768w, https://tunan.org/wp-content/uploads/2020/10/574e8aabbd9f2ca.png 1196w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></figure></p>
<h2 class="wp-block-heading" id="让frp服务在后台运行">让FRP服务在后台运行</h2>
<p>这时候你会发现，如果你关闭了xshell等的窗口，frp的服务也即可停止了，所以，为了让FRP在后台运行，我们还输入如下的命令：</p>
<pre class="wp-block-preformatted">nohup ./frps -c frps.ini &</pre>
<p>如果出来的如下的文字，说明配置成功</p>
<pre class="wp-block-preformatted">nohup: ignoring input and appending output to 'nohup.out'</pre>
<p>至此，服务器端设置完毕，群晖的设置在上一篇文章内已经说过，这次就不再啰嗦了。</p>
<h2 class="wp-block-heading" id="可能遇到的坑">可能遇到的坑：</h2>
<p>如果你按照这个方法设置后，最后的输出总不正确，那么很大的可能是你的服务器的相应的端口没有开放，如果使用的是腾讯云或者阿里云的话，服务器的端口打开之后，还需要在这些云的控制端设置开放端口。</p>
]]></content:encoded>
    </item>
    <item>
      <title>使用群晖，配置打印机，实现无线打印机的功能</title>
      <link>http://localhost:1313/3005.html</link>
      <pubDate>Sun, 12 Jan 2020 03:05:02 +0000</pubDate>
      <guid>http://localhost:1313/3005.html</guid>
      <description>&lt;p&gt;换成荣耀的这台笔记本之后，由于接口比较少，再加上一个笔记本插上usb数据线连上打印机，也不够方便，因为有时候笔记本还要拿回家用用。恰好再群晖的网站上看到群晖也支持市面上大多数的打印机。于是动了把打印机和群晖相联的念头。&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>换成荣耀的这台笔记本之后，由于接口比较少，再加上一个笔记本插上usb数据线连上打印机，也不够方便，因为有时候笔记本还要拿回家用用。恰好再群晖的网站上看到群晖也支持市面上大多数的打印机。于是动了把打印机和群晖相联的念头。</p>
<p>实际上操作还是挺简单的，只要注意一些基本的坑不要踩就行。</p>
<h2 id="首先把打印机和群晖相联">首先，把打印机和群晖相联</h2>
<p>把打印机的数据线插在群晖的usb端口上,打开群晖的管理页面。点击控制面板——点击外接设备——选择打印机标签</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/01/64f4b98d52cdd2c.png"><img loading="lazy" decoding="async" class="aligncenter size-large wp-image-3006" src="https://tunan.org/wp-content/uploads/2020/01/64f4b98d52cdd2c-1024x586.png" alt="" width="1024" height="586" srcset="https://tunan.org/wp-content/uploads/2020/01/64f4b98d52cdd2c-1024x586.png 1024w, https://tunan.org/wp-content/uploads/2020/01/64f4b98d52cdd2c-300x172.png 300w, https://tunan.org/wp-content/uploads/2020/01/64f4b98d52cdd2c-768x439.png 768w, https://tunan.org/wp-content/uploads/2020/01/64f4b98d52cdd2c.png 1250w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></p>
<p>点击打印机管理，点击设置打印机。</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/01/9f19250c710cc82.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3007" src="https://tunan.org/wp-content/uploads/2020/01/9f19250c710cc82.png" alt="" width="729" height="722" srcset="https://tunan.org/wp-content/uploads/2020/01/9f19250c710cc82.png 729w, https://tunan.org/wp-content/uploads/2020/01/9f19250c710cc82-300x297.png 300w, https://tunan.org/wp-content/uploads/2020/01/9f19250c710cc82-150x150.png 150w" sizes="(max-width: 729px) 100vw, 729px" /></a></p>
<p>由于跋涉者的打印机是兄弟 hl-1208系列，没有复印 传真等功能，所以，只是选中网络打印机的模式。当然你也可以选择羡慕的Apple无线打印和Google云端打印，这些都是支持的。选择完了，点击保存即可。</p>
<h2 id="电脑端设置">电脑端设置</h2>
<p>打开群晖助手，识别出群晖的IP地址后，点击打印机设备。点击新增</p>
<p><a href="https://tunan.org/wp-content/uploads/2020/01/88c00cba56f68ca.png">下<img loading="lazy" decoding="async" class="aligncenter size-full wp-image-3008" src="https://tunan.org/wp-content/uploads/2020/01/88c00cba56f68ca.png" alt="" width="668" height="617" srcset="https://tunan.org/wp-content/uploads/2020/01/88c00cba56f68ca.png 668w, https://tunan.org/wp-content/uploads/2020/01/88c00cba56f68ca-300x277.png 300w" sizes="(max-width: 668px) 100vw, 668px" /></a></p>
<p>选择识别出来的打印机，点击下一步，然后装上打印机的驱动。整个工作宣告结束。</p>
<p>据说，通过群晖还可以实现，手机直接打印的功能，由于不是很需要这个功能，没有研究，有需要这方面的功能的，不妨研究一下。其实也不复杂，都是局域网打印而已。</p>
<p> </p>
<p> </p>
]]></content:encoded>
    </item>
  </channel>
</rss>
