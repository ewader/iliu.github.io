(function(){const n="https://note.l22.org/api/v1/memos",s="memos-container",t=3;async function o(){try{const e=await fetch(n);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return t.memos||[]}catch(e){return console.error("Error fetching memos:",e),[]}}function i(e){return e.replace(/#[^\s#]+/g,"").trim()}function a(e,t=100){const n=i(e);return n.length<=t?n:n.substring(0,t)+"..."}function r(e){const t=new Date(e),n=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0");return`${n}-${s}-${o} ${i}:${a}`}function c(e){const o=document.getElementById(s);if(!o)return;const n=o.querySelector(".memos-list");if(!n)return;n.innerHTML="",e.slice(0,t).forEach((s,o)=>{const i=document.createElement("div");i.className="border-l-4 border-zinc-300 pl-4 py-2 border-b border-zinc-200",o===e.slice(0,t).length-1&&i.classList.remove("border-b");const l=document.createElement("p");l.className="text-zinc-700 mb-2",l.textContent=a(s.content);const c=document.createElement("div");c.className="flex items-center gap-4 text-xs text-zinc-500 flex-wrap";const d=document.createElement("time");d.setAttribute("datetime",s.createTime),d.textContent=r(s.createTime),c.appendChild(d),s.tags&&s.tags.length>0&&s.tags.forEach(e=>{const t=document.createElement("span");t.className="bg-zinc-200 px-2 py-0.5 rounded text-zinc-600",t.textContent="#"+e,c.appendChild(t)}),i.appendChild(l),i.appendChild(c),n.appendChild(i)})}async function e(){const e=await o();e.length>0&&c(e)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e(),setInterval(e,5*60*1e3)})()